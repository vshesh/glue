var Anatomy = {
    view: function() {
      return m('div', m('h1', 'Anatomy of an Element'), m('p', 'Here you can learn all about the common ways to write an ', m('code', {}, 'Element'), '.'), m('p', 'This article is structured by first giving you the full list of available options, followed by some "case studies" into how some of the components of the standard library were written and how you might write your own.'), m('h2', 'Create Your Element'), m('p', 'A cheatsheet for all the options you have at your fingertips. You diabolical genius, you.'), m('h3', m('code', {}, 'Inline')), m('p'), m('h4', m('code', {}, 'IdenticalInline(name: str, s: str, tag: str, attr: dict)')), m('p', 'The most basic kind of ', m('code', {}, 'Inline'), ' Element looks like:'), m('pre', m('code#2de99d08-a9c5-4aee-abae-8763bf250178.language-python', '[SOMETHING]text[SOMETHING]\nEg:\n*text*\n_text_\n__text__\n'), m('script', {'key': '2de99d08-a9c5-4aee-abae-8763bf250178'}, "hljs.highlightBlock(document.getElementById('2de99d08-a9c5-4aee-abae-8763bf250178'))")), m('p', "\nIt's some character(s) followed by the contents, followed by the SAME character(s) again. The resultant HTML looks like ", m('code', {}, '<tag ...attrs>text</tag>'), '. As you can imagine, configuring this is as easy as choosing the tag you want and the associated styles.'), m('p', 'Poster children for this type of inline element are ', m('code', {}, 'Bold'), ' (*text*), ', m('code', {}, 'Italic'), ', ', m('code', {}, 'Underline'), ', ', m('code', {}, 'Monospace'), ', ', m('code', {}, 'Strikethrough'), ", the most basic styles in text editing. Here is how they're made:"), m('pre', m('code#5d5baddd-701d-4e72-8e70-c76f87af882a.language-python', "Bold = IdenticalInline('bold', '*', 'strong')\nItalic = IdenticalInline('italic', '_', 'em')\nMonospace = IdenticalInline('monospace', '`', 'code')\nUnderline = IdenticalInline('underline', '__', 'span', {'style': 'text-decoration:underline;'})\nStrikethrough = IdenticalInline('strikethrough', '~', 'del')\n"), m('script', {'key': '5d5baddd-701d-4e72-8e70-c76f87af882a'}, "hljs.highlightBlock(document.getElementById('5d5baddd-701d-4e72-8e70-c76f87af882a'))")), m('p', "\nLet's say you want to add a new element in this vein - HTML5 has a ", m('code', {}, '<sup>'), ' (superscript) tag, and you want to include that syntax. You would like superscript text to look like this in your input: ', m('code', {}, '^text^'), '. How do you write the component to make this happen?'), m('pre', m('code#eca97721-3a8a-4b1b-b1d5-e9395c6a6d18.language-python', "Superscript = IdenticalInlineFrame('superscript', '^', 'sup')\n"), m('script', {'key': 'eca97721-3a8a-4b1b-b1d5-e9395c6a6d18'}, "hljs.highlightBlock(document.getElementById('eca97721-3a8a-4b1b-b1d5-e9395c6a6d18'))")), m('p', "\nThat's all, folks! Now you can type ", m('code', {}, '^superscript^'), ' and it will be converted just the way you want.'), m('h4', m('code', {}, 'MirrorInline(name:str, start:str, tag:str, attr: dict)')), m('p', 'A slightly more general case of ', m('code', {}, 'IdenticalInlineFrame'), ' for when you want the same thing to start and end your element, just flipped. This element will flip ', m('code', {}, '(), [], {}, <>'), ' pairs in the start string to compute what the end string should look like.'), m('p', 'Critic Markup allows you to highlight text using the syntax ', m('code', {}, '{==text==}'), '. How would you write this?'), m('pre', m('code#3468732a-3bd7-40bb-94aa-2c4066bc2f48.language-python', "CriticMark = MirrorInline('critic-mark', '{==', 'mark')\n"), m('script', {'key': '3468732a-3bd7-40bb-94aa-2c4066bc2f48'}, "hljs.highlightBlock(document.getElementById('3468732a-3bd7-40bb-94aa-2c4066bc2f48'))")), m('p', '\nAnd it ', m('mark', {}, 'works'), ', too!'), m('h4', m('code', {}, 'SingleGroupInline(name: str, start: str, end: str, tag: str, attr: dict)')), m('p', 'A slightly more general version of ', m('code', {}, 'Identical/MirrorInline'), ', this allows you to do the same thing, but with different ', m('code', {}, 'start'), ' and ', m('code', {}, 'end'), ' characters.'), m('p', "Eg, let's say you want to modify the superscript element above so it looks like Latex (", m('code', {}, '^{superscript}'), '). How would you do that?'), m('pre', m('code#acd3b2c9-78bb-4a49-b4df-11360dc93e9d.language-python', "Superscript = SingleGroupInlineFrame('superscript', '^{', '}', 'sup')\n"), m('script', {'key': 'acd3b2c9-78bb-4a49-b4df-11360dc93e9d'}, "hljs.highlightBlock(document.getElementById('acd3b2c9-78bb-4a49-b4df-11360dc93e9d'))")), m('p', "\nWhile we're at it, why not throw in subscript, too?"), m('pre', m('code#1b2fc5cc-dd8b-47b7-a953-c87be6271e53.language-python', "Subscript = SingleGroupInlineFrame('subscript', '_{', '}', 'sub')\n"), m('script', {'key': '1b2fc5cc-dd8b-47b7-a953-c87be6271e53'}, "hljs.highlightBlock(document.getElementById('1b2fc5cc-dd8b-47b7-a953-c87be6271e53'))")), m('p', '\nWhen you implement these elements, they look like', m('sup', {}, 'this'), ' and', m('sub', {}, 'this'), '!\nHere is the chemical formula for glucose: C', m('sub', {}, '6'), 'H', m('sub', {}, '12'), 'O', m('sub', {}, '6'), '.'), m('h4', m('code', {}, '@inline_one(start: str, end: str)')), m('p', 'General purpose element for ', m('code', {}, 'Inline'), ' elements that only capture one group.\nStart and end are for the text that goes before and after the capture group, respectively.'), m('p', 'For example, markdown allows you to put a link in place by surrounding it with angle brackets. Eg, ', m('code', {}, '<google.com>'), '.  How do you add this syntax to GLUE?'), m('pre', m('code#a44620e3-1347-46a8-a6e5-b5aae3a46d33.language-python', "@inline_one('<', '>')\ndef LinkInPlace(groups):\n  return ['a', {'href': groups[0]}, groups[0]]\n"), m('script', {'key': 'a44620e3-1347-46a8-a6e5-b5aae3a46d33'}, "hljs.highlightBlock(document.getElementById('a44620e3-1347-46a8-a6e5-b5aae3a46d33'))")), m('h4', m('code', {}, '@link(designation: str, nest=Nesting.POST, sub=None)')), m('p', 'For elements that take on the syntax of a markdown link, preceded by some characters (', m('code', {}, 'designation'), ').\nFor example, you can copy Markdown for ', m('code', {}, '<img>'), ' tags by doing:'), m('pre', m('code#065ac1d7-c7c4-4961-8b6e-0ac4fd9f84f1.language-python', "@link('!') # so the syntax is ![alt](url)\ndef Image(groups):\n  return ['img', {'alt': groups[0]}, groups[1]]\n"), m('script', {'key': '065ac1d7-c7c4-4961-8b6e-0ac4fd9f84f1'}, "hljs.highlightBlock(document.getElementById('065ac1d7-c7c4-4961-8b6e-0ac4fd9f84f1'))")), m('p', '\n', m('code', {}, 'Link'), ' itself is implemented this way:'), m('pre', m('code#26f5d5cb-a08a-433f-a990-029e86cc0c58.language-python', "@link('') # so the syntax is [text](url)\ndef Link(groups):\n  return ['a', {'href': groups[1]}, groups[0]]\n"), m('script', {'key': '26f5d5cb-a08a-433f-a990-029e86cc0c58'}, "hljs.highlightBlock(document.getElementById('26f5d5cb-a08a-433f-a990-029e86cc0c58'))")), m('p', '\nThere are others, like ', m('code', {}, 'Tooltip'), " that benefit from this syntax. Basically, if you want two capture groups in your inline element, and you don't want to deal with the fuss of ", m('code', {}, '@inline_two'), ' (which is coming up), you can just use ', m('code', {}, '@link'), " with some designation that isn't taken yet."), m('h4', m('code', {}, '@inline_two(start: str, mid: str, end: str, nest=Nesting.POST, sub=None)')), m('p'), m('h4', m('code', {}, "@inline(regex, nest=Nesting.FRAME, sub=None, escape='', display=Display.INLINE)")), m('h3', 'Block'), m('p'), m('h4', m('code', {}, "@standalone_integration(inner_elem='div', outer_elem='div')")), m('p'), m('h4', m('code', {}, '@terminal_block(opts)')), m('p'), m('h4', m('code', {}, '@block(nest, sub, opts)')), m('p'), m('h2', 'Add some assets'), m('p', 'Assets are snippets of CSS and JS that make life interesting for our components. Adding them to any ', m('code', {}, 'Element'), ' is really easy:'), m('h3', m('code', {}, '@asset_url')), m('p', "Say you are writing a component to display math (using Katex) - only one problem: you need the math library! It's located ", m('em', {}, 'somewhere'), ' on the internet, so we can just add the asset as a URL:'), m('pre', m('code#11d266a9-d839-4fbe-8b97-25bee8393620.language-python', "from elements import asset_url, standalone_integration, AssetType\n\n@asset_url(AssetType.CSS, '//cdnjs.com/katex/0.6.0/katex.min.css')\n@asset_url(AssetType.JS, '//cdnjs.com/katex/0.6.0/katex.min.js')\n@standalone_integration()\ndef Katex(contents, docid, elem):\n  return repr('katex.render(... blah blah ...)'.format(contents, elem)\n"), m('script', {'key': '11d266a9-d839-4fbe-8b97-25bee8393620'}, "hljs.highlightBlock(document.getElementById('11d266a9-d839-4fbe-8b97-25bee8393620'))")), m('p', '\nDone! Now Katex is bundled with the necessary assets. In fact, this is pretty much exactly how ', m('code', {}, 'Katex'), ' looks in ', m('code', {}, 'library.py'), '.'), m('p'));
    }
  };
  
